const e={addTo:document.querySelector(".modal_txt"),closeModalBtn:document.querySelector("[data-modal-close]"),backdrop:document.querySelector(".js-backdrop"),watchedBtn:document.querySelector(".watched-btn"),list:document.querySelector(".js-cards"),quequeBtn:document.querySelector(".quequeBtn")};function t(){document.removeEventListener("keydown",n),document.body.classList.remove("show-modal");const e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}function n(e){"Escape"===e.code&&t()}e.closeModalBtn.addEventListener("click",t),e.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&t()})),e.watchedBtn.addEventListener("click",(function(){const t=document.querySelector(".image_movie_card"),n=Number(t.dataset.id);if(o.includes(n)){e.watchedBtn.textContent="Add to watched";const t=o.indexOf(n);o.splice(t,1);return void localStorage.removeItem("watchedMovies")}e.watchedBtn.textContent="remove",o.push(n),localStorage.setItem("watchedMovies",JSON.stringify(o))})),e.list.addEventListener("click",(function(t){t.preventDefault();const o=t.target.closest(".js-card"),a=o.dataset.id;o&&(document.addEventListener("keydown",n),document.body.classList.add("show-modal"),document.body.style.position="fixed",document.body.style.top=`-${window.scrollY}px`,function(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=671c14eb1babf71c7ecd9b35ab5716a8`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}(a).then((t=>{!function(t){const n=[];n.push(t);const o=n.map((({title:e,vote_average:t,vote_count:n,popularity:o,original_title:a,genres:s,overview:c,poster_path:d,id:i})=>`<img src="https://image.tmdb.org/t/p/w500${d}" data-id="${i}" alt="phonesize_image_movie" class="image_movie_card">\n\n                <div class="movie_card_info">\n                    <h1 class="movie_title_card_modal">${e}</h1>\n                    <div class="rates_info_card_movie">\n\n        <div class="rates_info_card_movie_titles">\n            <p class="rates_info_card_movie_titles_name">Vote / Votes</p> \n                    <p class="rates_info_card_movie_titles_name">Popularity</p> \n                    <p class="rates_info_card_movie_titles_name">Original Title</p> \n                    <p class="rates_info_card_movie_titles_name">Genre</p> \n\n        </div>\n                    \n<div class="rates_info_card_movie_datas">\n    <p class="votes_number_card"> <span class="span_votes_number_card">${t}</span>/${n}</p>\n                    <p class="votes_number_card">${o}</p>\n                    <p class="votes_number_card">${a}</p>\n                    <p class="votes_number_card">${s.map((e=>e.name)).slice(0,3)}</p>\n</div>\n                    \n\n                    </div>\n                  \n                    <h2 class="about-film-card-info">About</h2>\n\n                 <p class="description-movie-card"> ${c}</p>  \n\n                </div>`)).join("");e.addTo.innerHTML=o,e.watchedBtn.textContent="Add to watched"}(t)})))})),e.quequeBtn.addEventListener("click",(function(){const e=document.querySelector(".image_movie_card"),t=Number(e.dataset.id);JSON.parse(localStorage.getItem("watchedMovies"));if(a.includes(t))return;a.push(t),localStorage.setItem("queQueMovies",JSON.stringify(a))}));const o=[],a=[];
//# sourceMappingURL=index.eef10c78.js.map
