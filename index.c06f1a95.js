!function(){var e=document.querySelector(".js-movie-modal-backdrop"),t=document.querySelector(".js-cards"),o=document.querySelector(".js-movie-modal");function n(){o.classList.add("is-hidden"),e.classList.add("is-hidden"),e.innerHTML="",document.body.style="overflow-y: overlay",document.removeEventListener("keydown",s)}function s(e){"Escape"===e.code&&n()}document.querySelector(".js-movie-modal-backdrop").addEventListener("click",n),t.addEventListener("click",(function(t){t.preventDefault();var a=t.target.closest(".js-card");console.log(a);var i=a.dataset.id;console.log(i),function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}(i).then((function(t){!function(t){(function(e){var t=[];t.push(e);var n=t.map((function(e){var t=e.title,o=e.vote_average,n=e.vote_count,s=e.popularity,a=e.original_title,i=e.genres,c=e.overview,d=e.poster_path,l=i.map((function(e){return e.name}));return'<div class="js-movie-modal__content">\n        <button class = "js-movie-modal__close-btn">\n        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n            <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n        </svg>              \n        </button>\n        <div class="js-movie-modal__poster">\n            <img class = "js-movie-modal__img" src="https://image.tmdb.org/t/p/w500'.concat(d,'" alt="').concat(t,'">\n        </div>\n        <div class="movie-modal__info-about">\n            <h1 class="js-movie-modal__title">').concat(t,'</h1>\n    <div class="movie-modal__info">\n        <div class="movie-modal__info-name">\n            <p class="info-name">Vote / Votes</p>\n            <p class="info-name">Popularity</p>\n            <p class="info-name">Original Title</p>\n            <p class="info-name">Genre</p>\n        </div>\n        <div class="movie-modal__info-value">\n            <p class="js-info-value">\n                <span class="js-info-value__vote">').concat(o,'</span>&ensp;/&ensp; \n                <span class="js-info-value__votes">').concat(n,'</span>\n            </p>\n            <p class="js-info-value">').concat(s,'</p>\n            <p class="js-info-value">').concat(a,'</p>\n            <p class="js-info-value">').concat(l.splice(0,3),'</p>\n        </div>\n    </div>\n    <h2 class="movie-modal__about">About </h2>\n    <p class="js-movie-modal__about-text">').concat(c,'</p>\n    <ul class = "movie-modal__btn-list">\n        <li class = "movie-modal__btn-list-item">\n            <button class="js-movie-modal__btn add-watched" type="button">add to Watched</button>\n        </li>\n        <li class = "movie-modal__btn-list-item">\n            <button class="js-movie-modal__btn add-queue" type="button">add to queue</button>\n        </li>\n    </ul>\n        </div>\n    </div>')})).join("");o.innerHTML=n})(t),document.querySelector(".js-movie-modal__close-btn").addEventListener("click",n),o.classList.remove("is-hidden"),e.classList.remove("is-hidden"),document.body.style="overflow-y: hidden",document.addEventListener("keydown",s),function(e){var t=JSON.parse(localStorage.getItem("movies-watched"))||[],o=JSON.parse(localStorage.getItem("movies-queue"))||[],n=document.querySelector(".add-watched"),s=document.querySelector(".add-queue");n.addEventListener("click",a),s.addEventListener("click",i),t.find((function(t){return t.id===e.id}))&&(n.classList.add("js-remove-from"),n.textContent="remove from watched");o.find((function(t){return t.id===e.id}))&&(s.classList.add("js-remove-from"),s.textContent="remove from queue");function a(){if(t.find((function(t){return t.id===e.id}))){var o=t.findIndex((function(t){return t.id===e.id}));t.splice(o,1),localStorage.setItem("movies-watched",JSON.stringify(t));var s=n.classList.toggle("js-remove-from");n.textContent="".concat(s?"remove from":"add to"," watched ")}else{t.push(e),localStorage.setItem("movies-watched",JSON.stringify(t));var a=n.classList.toggle("js-remove-from");n.textContent="".concat(a?"remove from":"add to"," watched ")}}function i(){if(o.find((function(t){return t.id===e.id}))){var t=o.findIndex((function(t){return t.id===e.id}));o.splice(t,1),localStorage.setItem("movies-queue",JSON.stringify(o));var n=s.classList.toggle("js-remove-from");s.textContent="".concat(n?"remove from":"add to"," queue ")}else{o.push(e),localStorage.setItem("movies-queue",JSON.stringify(o));var a=s.classList.toggle("js-remove-from");s.textContent="".concat(a?"remove from":"add to"," queue ")}}}(t)}(t)}))})),console.log(localStorage.length)}();
//# sourceMappingURL=index.c06f1a95.js.map
