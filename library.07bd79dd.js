function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},c={},r=o.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in c){var t=c[e];delete c[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){c[e]=t},o.parcelRequired7c6=r),r.register("kyEFX",(function(t,o){var n,c;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return c}),(function(e){return c=e}));var r={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)r[t[o]]=e[t[o]]},c=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"1zJhX":"library.07bd79dd.js","dhVbU":"nothing.633e1c09.webp"}')),"function"!=typeof(t=window.Element.prototype).matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+o+'"]').classList.add("active"),t.classList.add("active"),document.body.style.top=`-${window.scrollY}px`}))})),o.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active");const o=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(o||"0"))}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}));const s=document.querySelector("#theme-switch-toggle"),a="default-theme",i="dark-theme";function l(){document.body.classList.toggle(i),document.body.classList.toggle(a),document.body.classList.contains(a)?(s.setAttribute("checked",!1),localStorage.setItem("active-theme",a)):document.body.classList.contains(i)&&(s.setAttribute("checked",!0),localStorage.setItem("active-theme",i))}document.body.classList.add(a),s.addEventListener("change",l),localStorage.getItem("active-theme")===i&&l();const d=document.querySelector(".js-watched"),u=document.querySelector(".js-queue");d.addEventListener("click",(function(){u.classList.remove("button--accent"),d.classList.add("button--accent")})),u.addEventListener("click",(function(){d.classList.remove("button--accent"),u.classList.add("button--accent")}));new URL(r("kyEFX").resolve("dhVbU"),import.meta.url).toString();const m={cardsArea:document.querySelector(".js-cards"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue")};async function v(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=671c14eb1babf71c7ecd9b35ab5716a8`);return await t.json()}function f(e){const{poster_path:t,title:o,id:n,release_date:c,genres:r,vote_average:s}=e,a=r.map((({name:e})=>e)).join(", "),i=`<li class='js-card' data-id="${n}">\n  <button type="button" class='js-on-card'>\n  <img src="https://image.tmdb.org/t/p/w500${t}" alt="" class='js-card-img'>\n  </button>\n  <div class='js-movie-descr'>\n  <p class='js-movie-title'>${o.toUpperCase()}</p>\n  <div class='js-movie-genres'>\n  <p>${a} | ${c.slice(0,4)}</p>\n  <span class='js-movie-reiting'>${String(s).slice(0,3)}</span>\n  </div>\n  </div>\n  </li>`;m.cardsArea.insertAdjacentHTML("beforeend",i)}m.watchedBtn.addEventListener("click",(function(){console.log("hello world"),document.querySelector(".js-cards").innerHTML="";const e=JSON.parse(localStorage.getItem("watchedMovies"));if(null===e)return void alert("Your list is empty");e.map((e=>{v(e).then((e=>{f(e)}))}))})),m.queueBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";const e=JSON.parse(localStorage.getItem("queQueMovies"));if(null===e)return void alert("You have to create a list first");e.map((e=>v(e).then((e=>{f(e)}))))}));
//# sourceMappingURL=library.07bd79dd.js.map
