{"mappings":"AAAA,IAAMA,QAAU,mCACVC,SAAW,+BACXC,aAAe,mCACfC,SAAW,SAEbC,MAAQ,GAENC,KAAO,CACTC,UAAWC,SAASC,cAAc,cAKtC,SAASC,oBACL,OAAOC,MAAM,GAA0CC,OAAvCV,SAAS,gCAAsCU,OAARX,UAClDY,MAAK,SAAAC,GACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YACvB,OAAOH,EAAKI,M,IAM1B,SAASC,wBACTT,oBACKG,MAAK,SAAAO,G,OAAQA,EAAKC,O,IAClBR,MAAK,SAAAS,G,OAASA,EAAMC,KAAI,SAAAC,GACzBC,QAAQC,IAAIF,EAAKG,WAEjBtB,MAAQmB,EAAKG,UAET,IAAMC,EAAa,wCACIhB,OAAfT,cACgBS,OADDY,EAAKK,YAAY,oEAEhBjB,OADAY,EAAKM,MAAMC,cAAc,wCACdnB,OAAXP,MAAM,OACDO,OADMY,EAAKQ,aAAaC,MAAM,EAAG,GAAG,yCACErB,OAAtCsB,OAAOV,EAAKW,cAAcF,MAAM,EAAG,GAAG,gCAInE3B,KAAKC,UAAU6B,mBAAmB,YAAaR,E,OAElDS,OAAM,SAAAC,G,OAAOb,QAAQC,IAAIY,E,IAG9B,SAASC,YACL,OAAO5B,MAAM,GAAwCC,OAArCV,SAAS,8BAAoCU,OAARX,QAAQ,oBAC5DY,MAAK,SAAAC,GACE,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YACvB,OAAOH,EAAKI,M,IAErBmB,OAAM,SAAAC,G,OAAOb,QAAQC,IAAIY,E,IAzC9BnB,wBA4CAoB,YACK1B,MAAK,SAAA2B,G,OAAKA,EAAEC,M,IACZ5B,MAAK,SAAAO,G,OAAQK,QAAQC,IAAIN,E","sources":["src/api.js"],"sourcesContent":["const API_KEY = '671c14eb1babf71c7ecd9b35ab5716a8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p/w500/';\nconst MOVIE_ID = '619930';\n\nlet genre = '';\n\nconst refs = {\n    cardsArea: document.querySelector('.js-cards')\n};\n\ncreateTrendCardMarkup()\n\nfunction getTrendingMovies() {\n    return fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            } return resp.json()\n        })\n        \n};\n\n\nfunction createTrendCardMarkup() {\ngetTrendingMovies()\n    .then(data => data.results)\n    .then(cards => cards.map(card => { \n    console.log(card.genre_ids);    \n      \n    genre = card.genre_ids\n        \n        const cardMarkup = `<li class='js-card'>\n    <img src=\"${IMG_BASE_URL}${card.poster_path}\" alt=\"\" class='js-card-img'>\n    <p class='js-movie-title'>${card.title.toUpperCase()}</p>\n    <p class='js-movie-descr'>${genre} | ${card.release_date.slice(0, 4)}\n    <span class='js-movie-reiting'>${String(card.vote_average).slice(0, 3)}</span>\n    </p>\n    </li>`\n    \n        refs.cardsArea.insertAdjacentHTML('beforeend', cardMarkup)\n    }))\n    .catch(err => console.log(err));   \n}\n    \nfunction getGenres() {\n    return fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`)\n    .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText)\n            } return resp.json()\n    })\n    .catch(err => console.log(err))\n}\n\ngetGenres()\n    .then(r => r.genres)\n    .then(data => console.log(data))\n \n// function getSearchMovies() {\n//     return fetch(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=ru\n//     &page=1&include_adult=false`)\n//     .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.statusText)\n//             } return resp.json()\n//     })\n//     .catch(err => console.log(err))\n// }\n\n// console.log(getSearchMovies());\n\n// function getMovieDetails() {\n//     return fetch(`${BASE_URL}/movie/${MOVIE_ID}?api_key=${API_KEY}`)\n//     .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.statusText)\n//             } return resp.json()\n//         })\n// };\n\n// getMovieDetails()\n//     .then(data => console.log(data))\n//     .catch(err => console.log(err));\n\n// function getMovieVideos() {\n//     return fetch(`${BASE_URL}/movie/619930/videos?api_key=${API_KEY}`)\n//         .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.statusText)\n//             } return resp.json()\n//         })\n// }\n\n// console.log(getMovieVideos());"],"names":["API_KEY","BASE_URL","IMG_BASE_URL","MOVIE_ID","genre","refs","cardsArea","document","querySelector","getTrendingMovies","fetch","concat","then","resp","ok","Error","statusText","json","createTrendCardMarkup","data","results","cards","map","card","console","log","genre_ids","cardMarkup","poster_path","title","toUpperCase","release_date","slice","String","vote_average","insertAdjacentHTML","catch","err","getGenres","r","genres"],"version":3,"file":"index.8f327aec.js.map"}