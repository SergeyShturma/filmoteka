!function(){function e(e){return e&&e.__esModule?e.default:e}var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},c={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in c){var t=c[e];delete c[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){c[e]=t},n.parcelRequired7c6=r),"function"!=typeof(t=window.Element.prototype).matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),o=0;n[o]&&n[o]!==t;)++o;return Boolean(n[o])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),n=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+n+'"]').classList.add("active"),t.classList.add("active"),document.body.style.top="-".concat(window.scrollY,"px")}))})),n.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active");var n=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(n||"0"))}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))})),r("6Qnpn");var a=document.querySelector(".js-watched"),s=document.querySelector(".js-queue");a.addEventListener("click",(function(){s.classList.remove("button--accent"),a.classList.add("button--accent")})),s.addEventListener("click",(function(){a.classList.remove("button--accent"),s.classList.add("button--accent")}));var i=r("bpxeT"),l=r("2TvXO"),d={cardsArea:document.querySelector(".js-cards"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue")};function u(e){return m.apply(this,arguments)}function m(){return(m=e(i)(e(l).mark((function t(n){var o,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8"));case 2:return o=e.sent,e.next=5,o.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function v(e){var t=e.poster_path,n=e.title,o=e.id,c=e.release_date,r=e.genres,a=e.vote_average,s=r.map((function(e){return e.name})).join(", "),i="<li class='js-card' data-id=\"".concat(o,'">\n  <button type="button" class=\'js-on-card\'>\n  <img src="https://image.tmdb.org/t/p/w500').concat(t,"\" alt=\"\" class='js-card-img'>\n  </button>\n  <div class='js-movie-descr'>\n  <p class='js-movie-title'>").concat(n.toUpperCase(),"</p>\n  <div class='js-movie-genres'>\n  <p>").concat(s," | ").concat(c.slice(0,4),"</p>\n  <span class='js-movie-reiting'>").concat(String(a).slice(0,3),"</span>\n  </div>\n  </div>\n  </li>");d.cardsArea.insertAdjacentHTML("beforeend",i)}d.watchedBtn.addEventListener("click",(function(){console.log("hello world"),document.querySelector(".js-cards").innerHTML="";var e=JSON.parse(localStorage.getItem("watchedMovies"));if(null===e)return void alert("Your list is empty");e.map((function(e){u(e).then((function(e){v(e)}))}))})),d.queueBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";var e=JSON.parse(localStorage.getItem("queQueMovies"));if(null===e)return void alert("You have to create a list first");e.map((function(e){return u(e).then((function(e){v(e)}))}))}))}();
//# sourceMappingURL=library.b1460316.js.map
