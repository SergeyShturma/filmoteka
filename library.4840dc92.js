!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},n.parcelRequired7c6=s),s("k9Lsj"),s("6Qnpn");var a=document.querySelector(".js-watched"),i=document.querySelector(".js-queue");a.addEventListener("click",(function(){i.classList.remove("button--accent"),a.classList.add("button--accent")})),i.addEventListener("click",(function(){a.classList.remove("button--accent"),i.classList.add("button--accent")}));var c=s("bpxeT"),r=s("2TvXO"),l=s("6JpON");function d(e){return u.apply(this,arguments)}function u(){return(u=e(c)(e(r).mark((function n(t){var o,s;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8"));case 2:return o=e.sent,e.next=5,o.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}s("h6c0i");var m={cardsArea:document.querySelector(".js-cards"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue")};function v(){m.cardsArea.innerHTML='<div class="funny_wrapper"><iframe src="https://tenor.com/view/the-simpsons-homer-simpson-nothing-to-see-here-simpsons-bush-gif-16295909" frameBorder="0" class="funny gif-error" allowFullScreen></iframe>\n    <span class="error-text">Nothing is here</span><a href="/library.html" class="btn-main__page">To main page</a></div>',m.watchedBtn.style.display="none",m.queueBtn.style.display="none"}function p(e){var n=e.poster_path,t=e.title,o=e.id,s=e.release_date,a=e.genres,i=e.vote_average,c=a.map((function(e){return e.name})).join(", "),r="<li class='js-card' data-id=\"".concat(o,'">\n<button type="button" class=\'js-on-card\'>\n<img src="https://image.tmdb.org/t/p/w500').concat(n,"\" alt=\"\" class='js-card-img'>\n</button>\n<div class='js-movie-descr'>\n<p class='js-movie-title'>").concat(t.toUpperCase(),"</p>\n<div class='js-movie-genres'>\n<p>").concat(c," | ").concat(s.slice(0,4),"</p>\n<span class='js-movie-reiting'>").concat(String(i).slice(0,3),"</span>\n</div>\n</div>\n</li>");m.cardsArea.insertAdjacentHTML("beforeend",r)}m.watchedBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";var n=JSON.parse(localStorage.getItem("movies-watched"));if(null===n)return e(l).Notify.failure("There is nothing in the Watch"),void v();n.map((function(e){d(e).then((function(e){p(e)}))}))})),m.queueBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";var n=JSON.parse(localStorage.getItem("movies-queue"));if(null===n)return e(l).Notify.failure("There is nothing in the Queue"),void v();n.map((function(e){return d(e).then((function(e){p(e)}))}))})),s("1qtkz");var f=document.querySelector(".js-movie-modal-backdrop"),h=document.querySelector(".js-cards"),b=document.querySelector(".js-movie-modal");function _(){b.classList.add("is-hidden"),f.classList.add("is-hidden"),f.innerHTML="",document.body.style="overflow-y: visible",document.removeEventListener("keydown",g)}function g(e){"Escape"===e.code&&_()}document.querySelector(".js-movie-modal-backdrop").addEventListener("click",_),h.addEventListener("click",(function(e){e.preventDefault();var n=e.target.closest(".js-card");console.log(n);var t=n.dataset.id;console.log(t),function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}(t).then((function(e){!function(e){(function(e){var n=[];n.push(e);var t=n.map((function(e){var n=e.title,t=e.vote_average,o=e.vote_count,s=e.popularity,a=e.original_title,i=e.genres,c=e.overview,r=e.poster_path,l=i.map((function(e){return e.name}));return'<div class="js-movie-modal__content">\n          <button class = "js-movie-modal__close-btn">\n          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n              <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n          </svg>              \n          </button>\n          <div class="js-movie-modal__poster">\n              <img class = "js-movie-modal__img" src="https://image.tmdb.org/t/p/w500'.concat(r,'" alt="').concat(n,'">\n          </div>\n          <div class="movie-modal__info-about">\n              <h1 class="js-movie-modal__title">').concat(n,'</h1>\n      <div class="movie-modal__info">\n          <div class="movie-modal__info-name">\n              <p class="info-name">Vote / Votes</p>\n              <p class="info-name">Popularity</p>\n              <p class="info-name">Original Title</p>\n              <p class="info-name">Genre</p>\n          </div>\n          <div class="movie-modal__info-value">\n              <p class="js-info-value">\n                  <span class="js-info-value__vote">').concat(t,'</span>&ensp;/&ensp; \n                  <span class="js-info-value__votes">').concat(o,'</span>\n              </p>\n              <p class="js-info-value">').concat(s,'</p>\n              <p class="js-info-value">').concat(a,'</p>\n              <p class="js-info-value">').concat(l.splice(0,3),'</p>\n          </div>\n      </div>\n      <h2 class="movie-modal__about">About </h2>\n      <p class="js-movie-modal__about-text">').concat(c,'</p>\n      <ul class = "movie-modal__btn-list">\n          <li class = "movie-modal__btn-list-item">\n              <button class="js-movie-modal__btn remove-watched" type="button">remove from Watched</button>\n          </li>\n          <li class = "movie-modal__btn-list-item">\n              <button class="js-movie-modal__btn remove-queue" type="button">remove from queue</button>\n          </li>\n      </ul>\n          </div>\n      </div>')})).join("");b.innerHTML=t})(e),document.querySelector(".js-movie-modal__close-btn").addEventListener("click",_),b.classList.remove("is-hidden"),f.classList.remove("is-hidden"),document.body.style="overflow-y: hidden",document.addEventListener("keydown",g)}(e)}))}));var y=document.querySelector(".remove-watched"),j=document.querySelector(".remove-queue");y.addEventListener("click",(function(){console.log("hello world")})),j.addEventListener("click",onRemoveQueueBtnClick)}();
//# sourceMappingURL=library.4840dc92.js.map
