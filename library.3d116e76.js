!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){o[e]=n},n.parcelRequired7c6=a),a("k9Lsj"),a("6Qnpn");var s=document.querySelector(".js-watched"),c=document.querySelector(".js-queue");s.addEventListener("click",(function(){c.classList.remove("button--accent"),s.classList.add("button--accent")})),c.addEventListener("click",(function(){s.classList.remove("button--accent"),c.classList.add("button--accent")}));var i=a("bpxeT"),r=a("2TvXO"),l=a("6JpON");function d(e){return u.apply(this,arguments)}function u(){return(u=e(i)(e(r).mark((function n(t){var o,a;return e(r).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8"));case 2:return o=e.sent,e.next=5,o.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),n)})))).apply(this,arguments)}a("h6c0i");var v={cardsArea:document.querySelector(".js-cards"),watchedBtn:document.querySelector(".js-watched"),queueBtn:document.querySelector(".js-queue")};function m(e){var n=e.poster_path,t=e.title,o=e.id,a=e.release_date,s=e.genres,c=e.vote_average,i=s.map((function(e){return e.name})).join(", "),r="<li class='js-card' data-id=\"".concat(o,'">\n<button type="button" class=\'js-on-card\'>\n<img src="https://image.tmdb.org/t/p/w500').concat(n,"\" alt=\"\" class='js-card-img'>\n</button>\n<div class='js-movie-descr'>\n<p class='js-movie-title'>").concat(t.toUpperCase(),"</p>\n<div class='js-movie-genres'>\n<p>").concat(i," | ").concat(a.slice(0,4),"</p>\n<span class='js-movie-reiting'>").concat(String(c).slice(0,3),"</span>\n</div>\n</div>\n</li>");v.cardsArea.insertAdjacentHTML("beforeend",r)}v.watchedBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";var n=JSON.parse(localStorage.getItem("movies-watched"));if(null===n)return void e(l).Notify.failure("There is nothing in the Watch");n.map((function(e){d(e).then((function(e){m(e)}))}))})),v.queueBtn.addEventListener("click",(function(){document.querySelector(".js-cards").innerHTML="";var n=JSON.parse(localStorage.getItem("movies-queue"));if(null===n)return void e(l).Notify.failure("There is nothing in the Queue");n.map((function(e){return d(e).then((function(e){m(e)}))}))})),a("1qtkz");var p=document.querySelector(".js-movie-modal-backdrop"),f=document.querySelector(".js-cards"),h=document.querySelector(".js-movie-modal");function b(){h.classList.add("is-hidden"),p.classList.add("is-hidden"),p.innerHTML="",document.body.style="overflow-y: visible",document.removeEventListener("keydown",_)}function _(e){"Escape"===e.code&&b()}document.querySelector(".js-movie-modal-backdrop").addEventListener("click",b),f.addEventListener("click",(function(e){e.preventDefault();var n=e.target.closest(".js-card");console.log(n);var t=n.dataset.id;console.log(t),function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=671c14eb1babf71c7ecd9b35ab5716a8")).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))}(t).then((function(e){!function(e){(function(e){var n=[];n.push(e);var t=n.map((function(e){var n=e.title,t=e.vote_average,o=e.vote_count,a=e.popularity,s=e.original_title,c=e.genres,i=e.overview,r=e.poster_path,l=c.map((function(e){return e.name}));return'<div class="js-movie-modal__content">\n          <button class = "js-movie-modal__close-btn">\n          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n              <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n          </svg>              \n          </button>\n          <div class="js-movie-modal__poster">\n              <img class = "js-movie-modal__img" src="https://image.tmdb.org/t/p/w500'.concat(r,'" alt="').concat(n,'">\n          </div>\n          <div class="movie-modal__info-about">\n              <h1 class="js-movie-modal__title">').concat(n,'</h1>\n      <div class="movie-modal__info">\n          <div class="movie-modal__info-name">\n              <p class="info-name">Vote / Votes</p>\n              <p class="info-name">Popularity</p>\n              <p class="info-name">Original Title</p>\n              <p class="info-name">Genre</p>\n          </div>\n          <div class="movie-modal__info-value">\n              <p class="js-info-value">\n                  <span class="js-info-value__vote">').concat(t,'</span>&ensp;/&ensp; \n                  <span class="js-info-value__votes">').concat(o,'</span>\n              </p>\n              <p class="js-info-value">').concat(a,'</p>\n              <p class="js-info-value">').concat(s,'</p>\n              <p class="js-info-value">').concat(l.splice(0,3),'</p>\n          </div>\n      </div>\n      <h2 class="movie-modal__about">About </h2>\n      <p class="js-movie-modal__about-text">').concat(i,'</p>\n      <ul class = "movie-modal__btn-list">\n          <li class = "movie-modal__btn-list-item">\n              <button class="js-movie-modal__btn remove-watched" type="button">remove from Watched</button>\n          </li>\n          <li class = "movie-modal__btn-list-item">\n              <button class="js-movie-modal__btn remove-queue" type="button">remove from queue</button>\n          </li>\n      </ul>\n          </div>\n      </div>')})).join("");h.innerHTML=t})(e),document.querySelector(".js-movie-modal__close-btn").addEventListener("click",b),h.classList.remove("is-hidden"),p.classList.remove("is-hidden"),document.body.style="overflow-y: hidden",document.addEventListener("keydown",_)}(e)}))}));var j=document.querySelector(".remove-watched"),g=document.querySelector(".remove-queue");j.addEventListener("click",onRemoveWatchedClick),g.addEventListener("click",onRemoveQueueBtnClick)}();
//# sourceMappingURL=library.3d116e76.js.map
